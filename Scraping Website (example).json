{
  "name": "Parsing Website (example)",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        -128,
        416
      ],
      "id": "0721597c-01f8-461b-ae25-42e4dc6ca4a7",
      "name": "Loop Over Items"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "create",
        "projectId": "p6iw2n8x3jjlg33",
        "table": "mgtomon03qrl5uu",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldName": "URL",
              "fieldValue": "={{ $json.sourceURL }}"
            },
            {
              "fieldName": "Title",
              "fieldValue": "={{ $json.title }}"
            },
            {
              "fieldName": "Published",
              "fieldValue": "={{ $json.publishedAt }}"
            },
            {
              "fieldName": "=media",
              "fieldValue": "={{ $json.mainImage }}"
            },
            {
              "fieldName": "Summary",
              "fieldValue": "={{ $json.summary }}"
            },
            {
              "fieldName": "Site",
              "fieldValue": "TechCrunch"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        480,
        336
      ],
      "id": "790d13d9-a873-4076-a19c-d77c27a94dd7",
      "name": "Create a row"
    },
    {
      "parameters": {
        "operation": "extractHtmlContent",
        "extractionValues": {
          "values": [
            {
              "key": "link",
              "cssSelector": "a.loop-card__title-link",
              "returnValue": "attribute",
              "attribute": "href",
              "returnArray": true
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.html",
      "typeVersion": 1.2,
      "position": [
        -784,
        416
      ],
      "id": "2d6eb436-ad72-429a-b4e4-f2f7b04e665e",
      "name": "HTML"
    },
    {
      "parameters": {
        "fieldToSplitOut": "link",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        -576,
        416
      ],
      "id": "187eea1d-568c-4350-a3c5-61554facb320",
      "name": "Split Out"
    },
    {
      "parameters": {
        "url": "https://techcrunch.com/category/artificial-intelligence/",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -992,
        416
      ],
      "id": "ab026054-fbba-4e43-b339-cbb7aae06376",
      "name": "TechCrunch"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "projectId": "p6iw2n8x3jjlg33",
        "table": "mgtomon03qrl5uu",
        "id": "={{ $json.Id }}"
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        688,
        336
      ],
      "id": "e847d026-5a1c-4abc-8df6-7d55eff17265",
      "name": "Get a row3"
    },
    {
      "parameters": {
        "maxItems": 5
      },
      "type": "n8n-nodes-base.limit",
      "typeVersion": 1,
      "position": [
        -368,
        416
      ],
      "id": "3c7e01c0-a6ab-4c26-9e77-2f6df10571b9",
      "name": "Limit"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://production-sfo.browserless.io/unblock?token=2SjXmKBCMutgo6v17fd9894ed1cbf7830a2169dd37f9cd94c",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"url\": \"{{ $json.url }}\",\n  \"content\": true,\n  \"cookies\": false,\n  \"screenshot\": false,\n  \"browserWSEndpoint\": false\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        128,
        336
      ],
      "id": "5c1f7f0c-5979-4aea-b3b7-abdbf53d2479",
      "name": "Browserless",
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "projectId": "p6iw2n8x3jjlg33",
        "table": "mgtomon03qrl5uu",
        "id": "={{ $('Get a row3').item.json.Id }}"
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        1408,
        336
      ],
      "id": "d20feb0a-1032-4045-a886-3677ecb70559",
      "name": "Get a row"
    },
    {
      "parameters": {
        "amount": 3
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        1840,
        32
      ],
      "id": "9cc02d56-a161-4372-8070-5be6291721c0",
      "name": "3s",
      "webhookId": "57de42b4-b191-4830-ba0e-895a671d57f2"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "update",
        "projectId": "p6iw2n8x3jjlg33",
        "table": "mgtomon03qrl5uu",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldName": "id",
              "fieldValue": "={{ $('Get a row3').item.json.Id }}"
            },
            {
              "fieldName": "DocumentID",
              "fieldValue": "={{ $('Random number').item.json.randomString }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        1232,
        336
      ],
      "id": "a8b1b4f3-5807-4edd-b8df-8c78357f55ba",
      "name": "Update a row"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "adef1bf7-acc2-4850-9d6c-2ba324ca71d4",
              "leftValue": "={{ $json.status }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notExists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        400,
        16
      ],
      "id": "086e227f-db09-4839-b84f-6d5b6eb0b213",
      "name": "If1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "927dd3df-e28b-43a8-845d-42824a432049",
              "name": "url",
              "value": "={{ $json.link }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -192,
        16
      ],
      "id": "f488c965-6f09-4c74-a5fb-5c8c719b8a7c",
      "name": "URL"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "getAll",
        "projectId": "p6iw2n8x3jjlg33",
        "table": "mgtomon03qrl5uu",
        "returnAll": true,
        "options": {
          "fields": [
            "URL"
          ]
        }
      },
      "type": "n8n-nodes-base.nocoDb",
      "typeVersion": 3,
      "position": [
        0,
        0
      ],
      "id": "10c1150b-e7ee-4e6e-9105-faf4886f5b27",
      "name": "URLs",
      "executeOnce": true,
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "inputSource": "passthrough"
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        -1248,
        416
      ],
      "id": "b5e38e04-1248-4fbe-b13b-1746a0264484",
      "name": "When Executed by Another Workflow"
    },
    {
      "parameters": {
        "operation": "upload",
        "bucketName": "tg-autonews",
        "fileName": "=Docs/{{ $('Random number').item.json.randomString }}.txt",
        "binaryData": false,
        "fileContent": "={{ $('Browserless').item.json.content }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.s3",
      "typeVersion": 1,
      "position": [
        1040,
        336
      ],
      "id": "dab22246-6256-4626-b152-8d7d081b656e",
      "name": "Upload a file"
    },
    {
      "parameters": {
        "amount": 30
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        256,
        464
      ],
      "id": "78c514a8-bb2c-4f4e-897b-b1337ff8b5ef",
      "name": "Wait",
      "webhookId": "0bdf2f95-c200-43ed-9b8c-04d73641baab"
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "models/gemini-2.5-flash",
          "mode": "list",
          "cachedResultName": "models/gemini-2.5-flash"
        },
        "messages": {
          "values": [
            {
              "content": "={{ JSON.stringify($('Data sanitizer').all()) }}"
            }
          ]
        },
        "options": {
          "systemMessage": "=–†–û–õ–¨\n\n–¢–∏ ‚Äî AI-–∞—Å–∏—Å—Ç–µ–Ω—Ç –≥–æ–ª–æ–≤–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –≤ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–æ–º—É –º–µ–¥—ñ–∞-–∫–∞–Ω–∞–ª—ñ. –¢–≤–æ—è –≥–æ–ª–æ–≤–Ω–∞ –∑–∞–¥–∞—á–∞ ‚Äî –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å–ø–∞—Ä—Å–µ–Ω—ñ –Ω–æ–≤–æ—Å–Ω—ñ —Å—Ç–∞—Ç—Ç—ñ –π –≥–æ—Ç—É–≤–∞—Ç–∏ –ø–æ –Ω–∏–º –∫–æ—Ä–æ—Ç–∫—ñ, –∑–º—ñ—Å—Ç–æ–≤–Ω—ñ –∑–≤–µ–¥–µ–Ω–Ω—è (–±—Ä–∏—Ñ—ñ–Ω–≥–∏) –¥–ª—è –ø—Ä–∏–π–Ω—è—Ç—Ç—è —Ä–µ–¥–∞–∫—Ç–æ—Ä—Å—å–∫–∏—Ö —Ä—ñ—à–µ–Ω—å.\n\n–¶–Ü–õ–¨\n\n–ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ –ø—Ä–æ –Ω–æ–≤–∏–Ω–Ω—É —Å—Ç–∞—Ç—Ç—é (—É —Ñ–æ—Ä–º–∞—Ç—ñ JSON) —ñ —Å–∫–ª–∞—Å—Ç–∏ –Ω–∞ —ó—Ö –æ—Å–Ω–æ–≤—ñ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∫–æ—Ä–æ—Ç–∫–∏–π —ñ —á—ñ—Ç–∫–∏–π –±—Ä–∏—Ñ—ñ–Ω–≥, —è–∫–∏–π –¥–æ–ø–æ–º–æ–∂–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—É –∑—Ä–æ–∑—É–º—ñ—Ç–∏ —Å—É—Ç—å –Ω–æ–≤–∏–Ω–∏, —ó—ó –ø–æ—Ç–µ–Ω—Ü—ñ–∞–ª —ñ –≤–∏–∑–Ω–∞—á–∏—Ç–∏ —Ñ–æ—Ä–º–∞—Ç –º–∞–π–±—É—Ç–Ω—å–æ—ó –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó.\n\n–§–û–†–ú–ê–¢ –í–•–Ü–î–ù–ò–• –î–ê–ù–ò–•\n\n–¢–∏ –æ—Ç—Ä–∏–º–∞—î—à JSON-–æ–±'—î–∫—Ç —ñ–∑ –ø–æ–ª—è–º–∏: Id, Title, Summary, URL, Published, Site.\n\n–°–¢–†–£–ö–¢–£–†–ê –†–ï–ó–£–õ–¨–¢–ê–¢–£ (–°–£–í–û–†–û –î–û–¢–†–ò–ú–£–í–ê–¢–ò–°–¨!)\n\n–¢–∏ –ø–æ–≤–∏–Ω–µ–Ω –≤–∏–¥–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å —Å—É–≤–æ—Ä–æ –∑–∞ —Ç–∞–∫–∏–º —à–∞–±–ª–æ–Ω–æ–º, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ HTML-—Ç–µ–≥–∏ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–æ—Ä–æ–∂–Ω—ñ —Ä—è–¥–∫–∏ –º—ñ–∂ –ø—É–Ω–∫—Ç–∞–º–∏:\n\n<pre>[Site] –Ω–æ–≤–æ—Å—Ç—å ‚Ññ[Id]</pre>\n\n[#hashtag1] [#hashtag2]\n\n<b>üóìÔ∏è –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:</b> [–î–∞—Ç–∞ –∏–∑ Published]\n\n<b>üì∞ –ó–∞–≥–æ–ª–æ–≤–æ–∫:</b> [–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–¥–µ—Å—å]\n\n<b>üéØ –°—É—Ç—å –≤ 1 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏:</b> [–°—É—Ç—å –∑–¥–µ—Å—å]\n\n<b>üí° –ò–¥–µ—è –¥–ª—è –ø–æ–¥–∞—á–∏ –≤ –¢–ì:</b> [–ê–Ω–∞–ª–∏–∑ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∑–¥–µ—Å—å]\n\n<b>üîó –ò—Å—Ç–æ—á–Ω–∏–∫:</b> ([–ò—Å—Ç–æ—á–Ω–∏–∫ –∑–¥–µ—Å—å])\n\n–Ü–ù–°–¢–†–£–ö–¶–Ü–á –©–û–î–û –ó–ê–ü–û–í–ù–ï–ù–ù–Ø –ö–û–ñ–ù–û–ì–û –ü–£–ù–ö–¢–£\n\n    –ü–µ—Ä—à–∏–π —Ä—è–¥–æ–∫: –°—Ç–≤–æ—Ä–∏ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —É —Ñ–æ—Ä–º–∞—Ç—ñ [Site] –Ω–æ–≤–æ—Å—Ç—å ‚Ññ[Id], –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ JSON, —ñ –æ–±–µ—Ä–Ω–∏ –π–æ–≥–æ –≤ —Ç–µ–≥ <pre>.\n\n    –•–µ—à—Ç–µ–≥–∏ (–í–ê–ñ–õ–ò–í–ò–ô –ë–õ–û–ö):\n\n        –†–æ–∑–º—ñ—Å—Ç–∏ —ó—Ö –Ω–∞ –Ω–æ–≤–æ–º—É —Ä—è–¥–∫—É –ø—ñ—Å–ª—è –ø–æ—Ä–æ–∂–Ω—å–æ–≥–æ —Ä—è–¥–∫–∞, —â–æ –π–¥–µ –∑–∞ –±–ª–æ–∫–æ–º <pre>.\n\n        –ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π Summary, —â–æ–± –∑—Ä–æ–∑—É–º—ñ—Ç–∏ –æ—Å–Ω–æ–≤–Ω—É —Ç–µ–º—É –Ω–æ–≤–∏–Ω–∏.\n\n        –í–∏–±–µ—Ä–∏ 1-2 –Ω–∞–π–±—ñ–ª—å—à —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏—Ö —Ö–µ—à—Ç–µ–≥–∏ —Å—É–≤–æ—Ä–æ –∑—ñ —Å–ø–∏—Å–∫—É –Ω–∏–∂—á–µ.\n\n        –†–æ–∑–º—ñ—Å—Ç–∏ —Ö–µ—à—Ç–µ–≥–∏ –≤ –æ–¥–∏–Ω —Ä—è–¥–æ–∫ —á–µ—Ä–µ–∑ –ø—Ä–æ–±—ñ–ª. –í–æ–Ω–∏ –ø–æ–≤–∏–Ω–Ω—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –≤ —Ç–æ–º—É –≤–∏–≥–ª—è–¥—ñ, –≤ —è–∫–æ–º—É –Ω–∞–ø–∏—Å–∞–Ω—ñ —É —Å–ø–∏—Å–∫—É (—É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é).\n\n    –î–∞—Ç–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ): –Ø–∫—â–æ –ø–æ–ª–µ Published –≤ JSON –Ω–µ –ø–æ—Ä–æ–∂–Ω—î, –¥–æ–¥–∞–π —Ü–µ–π —Ä—è–¥–æ–∫. –ü–æ—á–Ω–∏ –∑ <b>üóìÔ∏è –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:</b> —ñ –≤—Å—Ç–∞–≤ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ –ø–æ–ª—è Published. –Ø–∫—â–æ –ø–æ–ª–µ –ø–æ—Ä–æ–∂–Ω—î, –ø–æ–≤–Ω—ñ—Å—Ç—é –ø—Ä–æ–ø—É—Å—Ç–∏ —Ü–µ–π –ø—É–Ω–∫—Ç.\n\n    –ó–∞–≥–æ–ª–æ–≤–æ–∫: –ü—Ä–∏–¥—É–º–∞–π —è—Å–∫—Ä–∞–≤–∏–π, –∞–ª–µ –∫–æ—Ä–æ—Ç–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–¥–æ 10 —Å–ª—ñ–≤).\n\n    –°—É—Ç—å –≤ 1 —Ä–µ—á–µ–Ω–Ω—ñ: –°—Ñ–æ—Ä–º—É–ª—é–π –≥–æ–ª–æ–≤–Ω—É –¥—É–º–∫—É –≤—Å—ñ—î—ó —Å—Ç–∞—Ç—Ç—ñ –≤ –æ–¥–Ω–æ–º—É, –º–∞–∫—Å–∏–º—É–º –¥–≤–æ—Ö, —Ä–µ—á–µ–Ω–Ω—è—Ö.\n\n    –Ü–¥–µ—è –¥–ª—è –ø–æ–¥–∞—á—ñ –≤ –¢–ì: –¶–µ–π –±–ª–æ–∫ ‚Äî –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏–π. –ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π Summary —ñ –Ω–∞–¥–∞–π —Ä–µ–¥–∞–∫—Ç–æ—Ä—É –∫–æ—Ä–æ—Ç–∫–µ –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–µ –∑–≤–µ–¥–µ–Ω–Ω—è –≤ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ:\n\n        –ü–æ—á–Ω–∏ –∑ —Ä—è–¥–∫–∞ <b>–§–æ—Ä–º–∞—Ç:</b>. –í–∏–±–µ—Ä–∏ –û–î–ù–£ –∑ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π —ñ –∫–æ—Ä–æ—Ç–∫–æ (–≤ –æ–¥–Ω–æ–º—É —Ä–µ—á–µ–Ω–Ω—ñ) –æ–±“ë—Ä—É–Ω—Ç—É–π —Å–≤—ñ–π –≤–∏–±—ñ—Ä:\n\n            –ê–Ω–æ–Ω—Å / –ò–Ω–Ω–æ–≤–∞—Ü–∏—è: (—è–∫—â–æ —Ü–µ –Ω–æ–≤–∏–Ω–∞ –ø—Ä–æ –≤–∏—Ö—ñ–¥ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç—É, —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó, –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è).\n\n            –°–≤–æ–¥–∫–∞ / –†–µ–∑—É–ª—å—Ç–∞—Ç—ã: (—è–∫—â–æ –≤ —Å—Ç–∞—Ç—Ç—ñ –Ω–∞–≤–æ–¥—è—Ç—å—Å—è –ø—ñ–¥—Å—É–º–∫–∏ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è, –ø–ª—é—Å–∏ –π –º—ñ–Ω—É—Å–∏, –≥–æ—Ç–æ–≤–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞).\n\n            –≠–∫—Å–ø–µ—Ä—Ç–Ω–æ–µ –º–Ω–µ–Ω–∏–µ: (—è–∫—â–æ –Ω–æ–≤–∏–Ω–∞ ‚Äî —Ü–µ —á–∏—è—Å—å –∫–æ–ª–æ–Ω–∫–∞, –¥—É–º–∫–∞ –∞–±–æ –≤–∏–º–∞–≥–∞—î –≥–ª–∏–±–æ–∫–æ–≥–æ –∞–≤—Ç–æ—Ä—Å—å–∫–æ–≥–æ —Ä–æ–∑–±–æ—Ä—É).\n\n            –û–±–∑–æ—Ä / –¢–µ—Å—Ç: (—è–∫—â–æ –Ω–æ–≤–∏–Ω–∞ –ø—Ä–æ –ø—Ä–æ–¥—É–∫—Ç, —è–∫–∏–π –º–æ–∂–Ω–∞ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –π –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏ –∑ –∞–Ω–∞–ª–æ–≥–∞–º–∏).\n\n        –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –¥–æ–¥–∞–π —Ä—è–¥–æ–∫ <b>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</b>. –î–∞–π –æ–¥–Ω—É –∑–∞–≥–∞–ª—å–Ω—É, –∞–ª–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—é, —â–æ –æ–±'—î–¥–Ω—É—î, —â–æ –º–æ–∂–Ω–∞ –ø—Ä–∏–±—Ä–∞—Ç–∏ —ñ —â–æ –¥–æ–¥–∞—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –£–ø—Ä–æ—Å—Ç–∏—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é —á–∞—Å—Ç—å, –¥–æ–±–∞–≤–∏–≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å X).\n\n    –î–∂–µ—Ä–µ–ª–æ: –°–∫–æ–ø—ñ—é–π –∑–Ω–∞—á–µ–Ω–Ω—è –∑ –ø–æ–ª—è URL —ñ –≤–∫–ª—é—á–∏ –π–æ–≥–æ –≤ –∫—Ä—É–≥–ª—ñ –¥—É–∂–∫–∏.\n\n    –í–ê–ñ–õ–ò–í–û: –ö–æ–∂–µ–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø—É–Ω–∫—Ç—É (–ó–∞–≥–æ–ª–æ–≤–æ–∫, –°—É—Ç—å, —ñ —Ç.–¥.) –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –≤–∏–¥—ñ–ª–µ–Ω–∏–π –∂–∏—Ä–Ω–∏–º (<b>) —Ç–∞ –∑ –µ–º–æ–¥–∑—ñ. –ú—ñ–∂ –∫–æ–∂–Ω–∏–º –ø—É–Ω–∫—Ç–æ–º –º–∞—î –±—É—Ç–∏ –æ–¥–∏–Ω –ø–æ—Ä–æ–∂–Ω—ñ–π —Ä—è–¥–æ–∫.\n\n–°–ü–ò–°–û–ö –î–û–°–¢–£–ü–ù–ò–• –•–ï–®–¢–ï–ì–Ü–í\n\n    –¢–µ–º–∞: –í–µ–ª–∏–∫—ñ –º–æ–≤–Ω—ñ –º–æ–¥–µ–ª—ñ (LLM)\n\n        –û—Å–Ω–æ–≤–Ω–∏–π: #–ù–µ–π—Ä–æ–º–µ—Ä–µ–∂—ñ\n\n        –£—Ç–æ—á–Ω—é—é—á—ñ: #–ú–æ–≤–Ω—ñ–ú–æ–¥–µ–ª—ñ, #AI–ß–∞—Ç–ë–æ—Ç–∏\n\n        –†–æ–∑—Ä–æ–±–Ω–∏–∫–∏: #OpenAI, #Google, #xAI, #Anthropic\n\n    –¢–µ–º–∞: –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –º–µ–¥—ñ–∞ (–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, –≤—ñ–¥–µ–æ, –∞—É–¥—ñ–æ)\n\n        –û—Å–Ω–æ–≤–Ω—ñ: #AIArt, #AI–ê—É–¥—ñ–æ\n\n        –£—Ç–æ—á–Ω—é—é—á—ñ: #–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è–ó–æ–±—Ä–∞–∂–µ–Ω—å, #AIVideo, #AI–ú—É–∑–∏–∫–∞, #AI–ì–æ–ª–æ—Å\n\n        –ü—Ä–æ–¥—É–∫—Ç–∏: #Midjourney, #Higgsfield\n\n    –¢–µ–º–∞: –†–æ–∑—Ä–æ–±–∫–∞ —Ç–∞ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è\n\n        –û—Å–Ω–æ–≤–Ω–∏–π: #AIT–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó\n\n        –£—Ç–æ—á–Ω—é—é—á—ñ: #AI–†–æ–∑—Ä–æ–±–∫–∞, #AI–î–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è\n\n    –¢–µ–º–∞: AI –≤ –±—ñ–∑–Ω–µ—Å—ñ\n\n        –û—Å–Ω–æ–≤–Ω–∏–π: #AI–ë—ñ–∑–Ω–µ—Å\n\n        –£—Ç–æ—á–Ω—é—é—á—ñ: #AI–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å, #AI–°—Ç–∞—Ä—Ç–∞–ø–∏, #–°—Ç–∞—Ä—Ç–∞–ø\n\n–ó–ê–í–î–ê–ù–ù–Ø\n\n–û—Å—å JSON –∑ –¥–∞–Ω–∏–º–∏ –ø—Ä–æ —Å—Ç–∞—Ç—Ç—é. –°—Ç–≤–æ—Ä–∏ –Ω–∞ –π–æ–≥–æ –æ—Å–Ω–æ–≤—ñ –±—Ä–∏—Ñ—ñ–Ω–≥ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞, —Å—É–≤–æ—Ä–æ –¥–æ—Ç—Ä–∏–º—É—é—á–∏—Å—å –∑–∞–¥–∞–Ω–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "typeVersion": 1,
      "position": [
        1776,
        336
      ],
      "id": "f3309d01-cedb-4449-b046-b51432cdace9",
      "name": "Preview creation",
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "chatId": "=",
        "text": "={{ $json.content.parts[0].text }}",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üöÄCREATE POST",
                    "additionalFields": {
                      "callback_data": "={{$('Get a row').item.json.Id}}{{$('Get a row').item.json.Site}}{{'Doc:' +  $('Random number').item.json.randomString }}"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2192,
        448
      ],
      "id": "a1c46467-7a91-469d-b8af-5d329691ce85",
      "name": "Send preview",
      "webhookId": "d2a8e95c-e282-4d04-9683-6026f2ac6f70",
      "credentials": {
        "telegramApi": {
          "id": "SnPsAmIZbdEV4GZ8",
          "name": "YT"
        }
      },
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "chatId": "=",
        "text": "=Error ({{$('Get a row').item.json.Id}}{{$('Get a row').item.json.Site}}) :/",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2416,
        512
      ],
      "id": "befc57ce-a487-4185-b114-a50c4f48e03e",
      "name": "Error",
      "webhookId": "d2a8e95c-e282-4d04-9683-6026f2ac6f70",
      "credentials": {
        "telegramApi": {
          "id": "SnPsAmIZbdEV4GZ8",
          "name": "YT"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "\nconst items = $input.all();\nconst finalResults = [];\n\nfunction cleanHtmlText(htmlString) {\n  if (!htmlString) return '';\n  \n  let text = htmlString.replace(/<[^>]*>/g, '');\n  \n  text = text.replace(/&rsquo;/g, \"'\")\n             .replace(/&ndash;/g, \"‚Äì\")\n             .replace(/&ldquo;/g, \"‚Äú\")\n             .replace(/&rdquo;/g, \"‚Äù\")\n             .replace(/&nbsp;/g, \" \")\n             .replace(/&amp;/g, \"&\");\n\n  return text.replace(/\\s+/g, ' ').trim();\n}\n\n\nfor (const item of items) {\n  const html = item.json.content || '';\n  if (!html) continue;\n\n  const sourceURLMatch = html.match(/<link rel=\"canonical\" href=\"([^\"]+)\"/);\n  const sourceURL = sourceURLMatch ? sourceURLMatch[1] : (item.json.url || 'URL –Ω–µ –Ω–∞–π–¥–µ–Ω');\n\n  \n  const titleMatch = html.match(/<title>([^<]+)<\\/title>/);\n  const title = titleMatch ? titleMatch[1].split('|')[0].trim() : '–ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω';\n\n\n  const publishedAtMatch = html.match(/<meta property=\"article:published_time\" content=\"([^\"]+)\">/);\n  const publishedAt = publishedAtMatch ? publishedAtMatch[1] : '–î–∞—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞';\n\n\n  const mainImageMatch = html.match(/<meta property=\"og:image\" content=\"([^\"]+)\">/);\n  const mainImage = mainImageMatch ? mainImageMatch[1] : '';\n\n  \n  const videoIdMatches = html.matchAll(/i\\.ytimg\\.com\\/vi\\/([A-Za-z0-9_-]{11})\\//g);\n  const uniqueVideoIds = [...new Set(Array.from(videoIdMatches, m => m[1]))];\n  const videos = uniqueVideoIds.map(id => `https://www.youtube.com/watch?v=${id}`);\n  \n\n  const allImageMatches = html.matchAll(/<img[^>]+src=\"([^\"]+)\"/g);\n  const otherImages = Array.from(allImageMatches, m => m[1])\n    .filter(src => \n      src.startsWith('https://techcrunch.com/wp-content/uploads/') &&\n      src !== mainImage &&\n      !src.includes('logo') &&\n      !src.includes('avatar') &&\n      !src.includes('favicon')\n    );\n  const images = [...new Set(otherImages)];\n  \n\n  const contentMatch = html.match(/<div class=\"entry-content wp-block-post-content[^>]*>([\\s\\S]*?)<\\/div>\\s*<div class=\"wp-block-tc23-post-relevant-terms\">/);\n  const rawContent = contentMatch ? contentMatch[1] : '';\n\n\n  const linkMatches = rawContent.matchAll(/<a[^>]+href=\"([^\"]+)\"/g);\n  const externalLinks = Array.from(linkMatches, m => m[1])\n    .filter(link => \n      !link.startsWith('/') &&\n      !link.includes('techcrunch.com')\n    );\n  const resources = [...new Set(externalLinks)];\n  \n \n  const summary = cleanHtmlText(rawContent);\n\n\n  finalResults.push({\n    json: {\n      sourceURL: sourceURL,\n      title: title,\n      summary: summary,\n      publishedAt: publishedAt,\n      mainImage: mainImage,\n      resources: resources,\n      images: images,\n      videos: videos,\n    }\n  });\n}\n\nreturn finalResults;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        304,
        336
      ],
      "id": "b65fab89-0bd4-4e57-8598-1769746b3489",
      "name": "Parsing"
    },
    {
      "parameters": {
        "jsCode": "const urlToCompare = $node[\"URL\"].json.url;\n\nif (!urlToCompare) {\n  return [];\n}\n\nconst urlListFromInput = items.map(item => item.json.URL);\n\nconst isMatchFound = urlListFromInput.includes(urlToCompare);\n\nif (isMatchFound) {\n  return [{\n    json: {\n      status: \"duplicate_found\",\n      checkedUrl: urlToCompare\n    }\n  }];\n  \n} else {\n  return [{\n    json: {\n      url: urlToCompare\n    }\n  }];\n}"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        208,
        16
      ],
      "id": "0bcad84a-fd39-4ac0-9cba-3f05613a41d8",
      "name": "Advanced filter"
    },
    {
      "parameters": {
        "jsCode": "const randomNumber = Math.floor(Math.random() * 6) + 1;\n\nconst characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\nlet randomString = '';\nfor (let i = 0; i < 6; i++) {\n  randomString += characters.charAt(Math.floor(Math.random() * characters.length));\n}\n\nreturn [{ json: { randomNumber: randomNumber, randomString: randomString } }];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        848,
        336
      ],
      "id": "effb5fe5-69ee-4d66-b2d0-cacc87bbe0fd",
      "name": "Random number"
    },
    {
      "parameters": {
        "jsCode": "const items = $input.all();\n\nfor (const item of items) {\n  const data = item.json;\n\n  try {\n    if (typeof data.videos === 'string') {\n      data.videos = JSON.parse(data.videos);\n    }\n    if (typeof data.resources === 'string') {\n      data.resources = JSON.parse(data.resources);\n    }\n    if (typeof data.images === 'string') {\n      data.images = JSON.parse(data.images);\n    }\n  } catch (error) {\n    if (!Array.isArray(data.videos)) data.videos = [];\n    if (!Array.isArray(data.resources)) data.resources = [];\n    if (!Array.isArray(data.images)) data.images = [];\n  }\n}\n\nreturn items;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1584,
        336
      ],
      "id": "a3ecbbfe-9be8-48c8-9b3b-a035a3540f6b",
      "name": "Data sanitizer"
    }
  ],
  "pinData": {},
  "connections": {
    "Loop Over Items": {
      "main": [
        [],
        [
          {
            "node": "URL",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create a row": {
      "main": [
        [
          {
            "node": "Get a row3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTML": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Limit",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "TechCrunch": {
      "main": [
        [
          {
            "node": "HTML",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get a row3": {
      "main": [
        [
          {
            "node": "Random number",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Limit": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Browserless": {
      "main": [
        [
          {
            "node": "Parsing",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get a row": {
      "main": [
        [
          {
            "node": "Data sanitizer",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "3s": {
      "main": [
        [
          {
            "node": "Preview creation",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update a row": {
      "main": [
        [
          {
            "node": "Get a row",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "URL": {
      "main": [
        [
          {
            "node": "URLs",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "URLs": {
      "main": [
        [
          {
            "node": "Advanced filter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If1": {
      "main": [
        [
          {
            "node": "Browserless",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "TechCrunch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Upload a file": {
      "main": [
        [
          {
            "node": "Update a row",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait": {
      "main": [
        [
          {
            "node": "Browserless",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Preview creation": {
      "main": [
        [
          {
            "node": "Send preview",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "3s",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send preview": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Error",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parsing": {
      "main": [
        [
          {
            "node": "Create a row",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Advanced filter": {
      "main": [
        [
          {
            "node": "If1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Random number": {
      "main": [
        [
          {
            "node": "Upload a file",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Data sanitizer": {
      "main": [
        [
          {
            "node": "Preview creation",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "9c410596-a02b-4dd2-acc6-fa43b8bc2a96",
  "meta": {
    "instanceId": "ba11b2825d3e379606d94cf5040fe1f575a23b6e6b8cfb66c708c61b412a8c3e"
  },
  "id": "TkwxUCbcPnZOLPe7",
  "tags": []
}